<aside>
    <a href="#sidebar" class="sidebar-button" title="Sidebar">
        <svg
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 16 16"
            width="16"
            height="16"
            fill="currentColor"
        >
            <path
                fill-rule="evenodd"
                d="M1 2.75A.75.75 0 011.75 2h12.5a.75.75 0 110 1.5H1.75A.75.75 0 011 2.75zm0 5A.75.75 0 011.75 7h12.5a.75.75 0 110 1.5H1.75A.75.75 0 011 7.75zM1.75 12a.75.75 0 100 1.5h12.5a.75.75 0 100-1.5H1.75z"
            ></path>
        </svg>
    </a>

    <nav id="sidebar" class="sidebar-nav">
        <a href="/about">About</a>
        <hr />
        <div>
            <button type="button">Science</button>
            <menu>
                <a href="/science/chaos-theory/">Chaos Theory</a>
                <a href="/science/collatz-conjecture/">Collatz Conjecture</a>
            </menu>
        </div>
        <div>
            <button type="button">History</button>
            <menu>
                <a href="/history/history-of-toilet-paper/"
                    >History of Toilet Paper</a
                >
                <a href="/history/the-phalanx-formation/"
                    >The Phalanx Formation</a
                >
            </menu>
        </div>
        <div>
            <button type="button">Tech</button>
            <menu>
                <b>Priv/Sec/Anon</b>
                <a href="/tech/psa/intro/">Intro</a>
                <a href="/tech/psa/messengers">Messengers</a>
                <hr />
                <a href="/tech/google/">Google</a>
            </menu>
        </div>
        <hr />
        <a
            href="https://gallery.zerolimits.dev"
            class="gallery"
            target="_blank"
            title="Aperturic Focus"
        >
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16">
                <path
                    fill-rule="evenodd"
                    d="M15 3H7c0-.55-.45-1-1-1H2c-.55 0-1 .45-1 1-.55 0-1 .45-1 1v9c0 .55.45 1 1 1h14c.55 0 1-.45 1-1V4c0-.55-.45-1-1-1zM6 5H2V4h4v1zm4.5 7C8.56 12 7 10.44 7 8.5S8.56 5 10.5 5 14 6.56 14 8.5 12.44 12 10.5 12zM13 8.5c0 1.38-1.13 2.5-2.5 2.5S8 9.87 8 8.5 9.13 6 10.5 6 13 7.13 13 8.5z"
                >
                </path>
            </svg>
        </a>
    </nav>
</aside>

<style lang="scss">
    aside {
        z-index: 999;
        position: relative;

        @media (min-width: 769px) {
            display: none;
        }

        &:hover nav {
            opacity: 1;
            visibility: visible;
            transform: translateY(0);
        }
    }

    .sidebar-button {
        color: var(--text);
        margin: 1vh 1vw;
    }

    // Sidebar
    nav {
        display: flex;
        position: absolute;
        right: 0;
        scroll-margin-top: 5rem;
        background-color: var(--bg);
        box-shadow: 0 0.125rem 0.5rem 0.125rem var(--shadow);
        border-radius: 0.75rem;
        padding: 0.5rem;
        white-space: nowrap;
        margin-right: 1rem;
        margin-top: 0.5rem;
        transform: translateY(-10%);
        transition: all 0.25s;
        opacity: 0;
        visibility: hidden;
        flex-direction: column;
        gap: 0.5rem;

        a,
        b {
            text-decoration: none;
            padding: 0.5rem;
            border-radius: 0.5rem;
            transition: all 0.25s;
            color: var(--text);
        }

        hr {
            margin: 0;
        }
    }

    div {
        background-color: transparent;
        position: relative;
        padding: 0.5rem 0.1rem;

        &:hover menu {
            opacity: 1;
            visibility: visible;
            transform: translateY(0);
        }
    }

    // Nav.Menu.Title
    button {
        color: var(--text);
        background-color: transparent;
        border: none;
        font-size: 1rem;
        cursor: pointer;

        &:not(.light, .dark)::after {
            content: "";
            -webkit-mask: url("/svg/dropdown-arrow.svg");
            mask: url("/svg/dropdown-arrow.svg");
            -webkit-mask-size: cover;
            mask-size: cover;
            background-color: var(--text);
            height: 1rem;
            width: 1rem;
            display: inline-block;
            vertical-align: -15%;
            transition: all 0.25s;
        }

        &:hover {
            color: var(--link);

            &::after {
                background-color: var(--link);
            }
        }
    }

    menu {
        right: 0;
        transform: translateY(-10%);
        opacity: 0;
        visibility: hidden;
        position: absolute;
        background-color: var(--bg);
        color: var(--text);
        box-shadow: 0 0.125rem 0.5rem 0.125rem var(--shadow);
        margin: 0.5rem 0;
        padding: 0.5rem;
        border-radius: 0.75rem;
        transition: all 0.25s;
        z-index: 9999;

        a {
            display: block;
            white-space: nowrap;

            &:hover {
                color: var(--primary-text);
                background-color: var(--primary-bg);
            }
        }
    }

    // Gallery
    .gallery {
        text-align: center;
    }

    .gallery svg {
        fill: var(--text);
        height: 1.25rem;
        vertical-align: -15%;
    }

    .gallery svg:hover {
        fill: var(--link);
    }
</style>
